use feature say;
$\=<>;map{$a=substr($\,"@-"-1,3+"@+"%2*2),say"$a",while/X/g}<>;print

__END__
A B C D E
| | | | |
 \|/  | |
  X    X
 /|\  | |
| | | | |
| | | | |
 X   \|/
| |   X
| |  /|\
| | | | |
|  X   X
| | | | |

3 -> 0 4
7 -> 4 8

pos-3, pos+1
pos-2, pos


2 -> 0 2
